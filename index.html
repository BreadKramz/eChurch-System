<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Mother of Perpetual Help - Loading...</title>
    <link rel="icon" type="image/x-icon" href="src/assets/images/favicon.ico.png">
    <link rel="manifest" href="/site.webmanifest">
    <meta name="theme-color" content="#8B4513">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="OMP Church">
    <link rel="apple-touch-icon" href="src/assets/images/Perpetual Church Logo.png">
    <meta http-equiv="refresh" content="4; url=src/pages/public/index.html">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div style="display: flex; justify-content: center; align-items: center; min-height: 100vh; background: linear-gradient(135deg, #2c1810 0%, #3d2518 25%, #4a2c2a 50%, #3d2518 75%, #2c1810 100%); background-size: 400% 400%; animation: gradientShift 15s ease infinite; font-family: 'Roboto', sans-serif; color: #8B4513; position: relative; overflow: hidden;" role="main" aria-label="Loading screen for Our Mother of Perpetual Help Church">

        <!-- Floating Church Elements -->
        <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; pointer-events: none; z-index: 1;">
            <div style="position: absolute; top: 10%; left: 10%; opacity: 0.1; animation: float 15s ease-in-out infinite; color: #daa520; font-size: 2rem;">âœï¸</div>
            <div style="position: absolute; top: 20%; right: 15%; opacity: 0.08; animation: float 18s ease-in-out infinite 2s; color: #daa520; font-size: 1.8rem;">ğŸ™</div>
            <div style="position: absolute; bottom: 15%; left: 15%; opacity: 0.1; animation: float 20s ease-in-out infinite 4s; color: #daa520; font-size: 2.2rem;">â›ª</div>
            <div style="position: absolute; top: 40%; right: 10%; opacity: 0.09; animation: float 16s ease-in-out infinite 1s; color: #daa520; font-size: 1.6rem;">ğŸ•Šï¸</div>
            <div style="position: absolute; bottom: 25%; right: 20%; opacity: 0.08; animation: float 19s ease-in-out infinite 3s; color: #daa520; font-size: 1.4rem;">ğŸ“¿</div>
            <div style="position: absolute; top: 60%; left: 20%; opacity: 0.07; animation: float 17s ease-in-out infinite 5s; color: #daa520; font-size: 1.5rem;">ğŸ•¯ï¸</div>
        </div>

        <div style="text-align: center; max-width: 340px; width: 90%; background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(20px); border-radius: 20px; padding: 2rem; box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.1); border: 1px solid rgba(139, 69, 19, 0.4); position: relative; z-index: 2;">

            <!-- Church Logo -->
            <div style="margin-bottom: 1.5rem;">
                <div style="width: 80px; height: 80px; margin: 0 auto 1rem; background: rgba(218, 165, 32, 0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; border: 2px solid rgba(218, 165, 32, 0.3);">
                    <img src="src/assets/images/Perpetual Church Logo.png" alt="Our Mother of Perpetual Help Church Logo" style="width: 60px; height: 60px; border-radius: 50%; object-fit: cover;">
                </div>
            </div>

            <!-- Church Name and Title -->
            <div style="margin-bottom: 2rem;">
                <h1 style="font-family: 'Playfair Display', serif; font-size: 1.6rem; font-weight: 700; background: linear-gradient(135deg, #d4af37, #daa520, #b8860b); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; margin-bottom: 0.5rem; letter-spacing: -0.025em; text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3); line-height: 1.2;">Our Mother of<br>Perpetual Help</h1>
                <div style="color: #d4af37; font-weight: 500; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.08em; opacity: 0.9; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2); margin-top: 0.5rem;">Redemptorist Church â€¢ Dumaguete City</div>
            </div>

            <!-- Loading Animation -->
            <div style="margin: 2rem 0;">
                <div style="width: 70px; height: 70px; border: 4px solid rgba(218, 165, 32, 0.3); border-top: 4px solid #daa520; border-right: 4px solid #8B4513; border-radius: 50%; animation: spin 2s linear infinite; margin: 0 auto 1.5rem; box-shadow: 0 0 25px rgba(218, 165, 32, 0.3); position: relative;">
                    <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 20px; height: 20px; background: linear-gradient(45deg, #daa520, #8B4513); border-radius: 50%; box-shadow: 0 0 15px rgba(139, 69, 19, 0.4);"></div>
                </div>
                <div style="font-size: 1.1rem; font-weight: 600; color: #8B4513; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); margin-bottom: 0.5rem;">Preparing your spiritual journey...</div>
                <div style="width: 200px; height: 4px; background: rgba(218, 165, 32, 0.2); border-radius: 2px; margin: 0 auto; overflow: hidden;">
                    <div style="height: 100%; background: linear-gradient(90deg, #4e3d11, #8B4513, #5b4206); border-radius: 2px; width: 0%; animation: progressFill 4s ease-out forwards;"></div>
                </div>
            </div>

            <!-- Welcome Message -->
            <div style="color: #8B4513; font-size: 0.9rem; line-height: 1.6; margin-bottom: 2rem; max-width: 300px; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); font-style: italic;">
                <p>"Welcome to our digital parish community. We are preparing everything for you to experience God's love and connect with our faith family."</p>
            </div>

            <!-- Enter Button -->
            <a href="src/pages/public/index.html" style="display: inline-flex; align-items: center; color: #8B4513; text-decoration: none; font-weight: 600; font-size: 0.9rem; padding: 0.8rem 1.5rem; border: 2px solid #8B4513; border-radius: 12px; background: linear-gradient(135deg, rgba(218, 165, 32, 0.2), rgba(139, 69, 19, 0.1)); text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(139, 69, 19, 0.2);" aria-label="Skip loading and enter the sanctuary" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(139, 69, 19, 0.3)';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(139, 69, 19, 0.2)';">
                <i class="fas fa-church" style="margin-right: 0.5rem;"></i>
                Enter the Sanctuary
            </a>
        </div>
    </div>

    <style>
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        @keyframes float {
            0%, 100% {
                transform: translateY(0px) rotate(0deg) scale(1);
            }
            50% {
                transform: translateY(-20px) rotate(5deg) scale(1.05);
            }
        }
        @keyframes progressFill {
            0% { width: 0%; }
            100% { width: 100%; }
        }
        @keyframes fadeIn {
            0% { opacity: 0; transform: translateY(20px); }
            100% { opacity: 1; transform: translateY(0); }
        }
    </style>

    <script>
        // Register Service Worker for PWA functionality
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js')
                    .then(function(registration) {
                        console.log('Service Worker registered successfully:', registration.scope);

                        // Force check for updates on load
                        try { registration.update(); } catch (e) {}

                        // If a new SW is found, wait for install then activate immediately and reload
                        registration.addEventListener('updatefound', function() {
                            const newWorker = registration.installing;
                            if (!newWorker) return;
                            newWorker.addEventListener('statechange', function() {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    // Ask the waiting SW to skip waiting and take control
                                    newWorker.postMessage({ type: 'SKIP_WAITING' });
                                    // Reload to pick up new assets
                                    window.location.reload();
                                }
                            });
                        });
                    })
                    .catch(function(error) {
                        console.log('Service Worker registration failed:', error);
                    });
            });
        }

        // Auto-redirect after 4 seconds
        setTimeout(() => {
            window.location.href = 'src/pages/public/index.html';
        }, 4000);

        // Add entrance animation
        document.addEventListener('DOMContentLoaded', function() {
            const container = document.querySelector('div[role="main"] > div');
            if (container) {
                container.style.opacity = '0';
                container.style.transform = 'translateY(30px)';
                setTimeout(() => {
                    container.style.transition = 'all 1s ease-out';
                    container.style.opacity = '1';
                    container.style.transform = 'translateY(0)';
                }, 200);
            }
        });
    </script>
</body>
</html>